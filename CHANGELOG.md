## [Unreleased]

## [1.7.9] - 2023-09-18

### Uncategorized

- Don't attempt disassembling R5900's `vclipw` / `vsqrt` in gnu mode (#44)
  - Thanks @ethteck 

## [1.7.8] - 2023-09-13

### Uncategorized

- Consider `syscall` as an instruction that isn't emitted by compilers
- Fix size calculation required for the buffer of the disassembled instruction for a few edge cases
- Properly implement r5900's `vcallms` operands
- Add `$` to special PS2 regs (#41)
  - Thanks @ethteck 
- The `treatJAsUnconditionalBranch` option is no longer deprecated

## [1.7.7] - 2023-08-27

### Uncategorized

- Fix type hints for Enum type missing the hash function.
- Reimplement hash function for Enum type.

## [1.7.6] - 2023-08-22

### Uncategorized

- Fix syscall having two arguments instead of just one

## [1.7.5] - 2023-08-08

### Uncategorized

- Fix bug where the buffer size for a decoded instruction would be computed wrongly if the passed `extraLJust` parameter plus the global `opcodeLJust` option resulted in a negative value.
- Catch more errors and raise Python exceptions on them in the instruction disassembly binding

## [1.7.4] - 2023-06-13

### Uncategorized

- Fix R5900 vf registers not using the `$vf` prefix in numeric register mode.

Misc:
- Provide macros to allow using gte instructions in both assembly and C. Those are provided under the `docs` folder of the repository

## [1.7.3] - 2023-06-10

### Uncategorized

Fix Rust release

## [1.7.2] - 2023-05-04

### Uncategorized

- Add `InstrIdType`
- General codebase cleanups
  - Move all the tables and templates into the `tables/` folder
  - Add clippy rust linter and fix the new warnings
  - Format and cleanup rust code

## [1.7.1] - 2023-05-02

### Uncategorized

General cleanups in the codebase. Not actual features or fixes were made

## [1.7.0] - 2023-04-30

### Uncategorized

- Support for R3000 GTE instructions (a.k.a. the PS1 specific instructions)
  - PR #31 

Meta:
- Add CI for checking the repo is always formatted
- Add CI for checking the tables have been regenerated
- Only run the CI that builds the python bindings for every machine on new releases.
  - This action was by far the slowest, so this should speed up PRs
- Other GithubActions cleanups

## [1.6.2] - 2023-04-27

### Uncategorized

- Fix `getInstrIndexAsVram` taking the upper 8 bits instead of 4 bits for the vram calculation

## [1.6.1] - 2023-04-18

### Uncategorized

- Fix `Instruction`'s `vram` parameter not initialized if it was not passed to the constructor on the Python binding.
- Expose `fs`, `ft` and `fd` registers to Python bindings.
- Add enums for `RegCop1O32`, `RegCop1N32` and `RegCop1N64` registers for Python bindings

## [1.6.0] - 2023-04-17

### Uncategorized

- Adds `gnuMode` to the configuration.
  - Toggles various tweaks to allow building and matching with GNU `as`, which original compiler will not like.
  - Enabled by default.
  - Turning this mode off makes the `div $0, ` pseudo instruction to not be used
-  Removed special treatment for R5900's `trunc.w.s`.
  - `cvt.w.s` and `trunc.w.s` will be decoded as-is when `gnuMode` is turned off.
  - If `gnuMode` is turned on this instruction those two instructions are decoded as `.word`s
- R5900's special operands `I`, `Q`, `R` and `ACC` will not longer be decoded with a `$` prefix

Repo-meta changes
- All autogenerated files are added the `linguist-generated` attribute.

## [1.5.11] - 2023-04-02

### Uncategorized

- Fake version bump to convince CI to build binaries for Python 3.11
- Updates some Github Actions to newer versions

## [1.5.10] - 2023-02-23

### Uncategorized

- Add a unit test to ensure every bindings use the same version number

## [1.5.9] - 2023-02-23

### Uncategorized

- Implement `mfc2`, `mtc2`, `cfc2` and `ctc2`
- Fix "emitted" typo
- Expand list of instructions not emitted by C compilers
- Document C api usage

## [1.5.8] - 2022-12-20

### Uncategorized

- Fix source distribution of Python package
- New `modifiesF*` and `readsF*`properties in the InstructionDescriptor
- Column limit for C files has been changed to 120


## [1.5.7] - 2022-12-20

### Uncategorized

- Fix a Rust binding not taking `&`

## [1.5.6] - 2022-12-19

### Uncategorized

- Introduce `RegisterDescriptor`
- Fix some typos in Rust bindings
- `jalr_rd` has been removed. Its old conditional behavior is now handled with the new `cpu_maybe_rd_rs` operand
- `outputsToGprZero` method

## [1.5.5] - 2022-12-19

### Uncategorized

- Change `treatJAsUnconditionalBranch` to `true` by default
- Actually package the C files in the Rust crate
- Cleanup Rust bindings to reduce useless indirections

## [1.5.4] - 2022-12-18

### Uncategorized

Why Are We Still Here? Just To Suffer[?](https://knowyourmeme.com/memes/why-are-we-still-here-just-to-suffer)

## [1.5.3] - 2022-12-18

### Uncategorized

Trying to fix crate publishing, again again

## [1.5.2] - 2022-12-18

### Uncategorized

Try to fix automatic Rust crate publishing again

## [1.5.1] - 2022-12-18

### Uncategorized

Attempt to fix Rust crate publishing

## [1.5.0] - 2022-12-18

1.5.0: Rust bindings

### Uncategorized

- Adds Rust bindings
- The table-macro-hell has been changed a little to include pre-processed versions of all the tables in the repository. This change should be more friendly to IDEs

## [1.4.0] - 2022-12-16

### Uncategorized

- 3 non-existent RSP instructions where removed (`rsp_cache`, `rsp_lwc1` and `rsp_swc1`)
- New methods to know if an instruction reads the value of a GPR: `.readsRs`, `.readsRd` and `.readsRt`
- Many descriptor information where corrected
- Deprecate `isJrRa()`, prefer new `isReturn()` method
- Deprecate `isJrNotRa()`, prefer new `isJumptableJump()` method

Meta:
- Remove `setup.cfg` and move all the info to `pyproject.toml`
- Descriptor logic errors are now checked in CI

## [1.3.3] - 2022-11-30

### Uncategorized

- Fix RSP's jalr being marked as invalid
  - Thanks to @Mr-Wiseguy for noticing

## [1.3.2] - 2022-11-30

### Uncategorized

- Fixed RSP using CPU cop0 .inc file instead of RSP cop0 and cop2 files #13 
  - Thanks to @Mr-Wiseguy
- Check for `_INVALID` unique ids in `isValid`

## [1.3.1] - 2022-10-16

### Uncategorized

Removes signedness from `AccessType`

## [1.3.0] - 2022-10-15

### Uncategorized

- Adds C++ bindings
- Fix missing operands on some trap instructions
- Fix buffer size calculation for disassembly
- Deprecated functions/methods:
  - `Instruction#getImmediate()`: Use `Instruction#getProcessedImmediate()` instead
  - `Instruction#getGenericBranchOffset()`: Use `Instruction#getBranchOffsetGeneric()` instead
  - `Instruction#mapInstrToType()`: Use `Instruction#getAccessType()` instead
  - `Instruction#isUnknownType()`
  - `Instruction#isJType()`: Use `Instruction#isJumpWithAddress()` instead
  - `Instruction#isIType()`: Use `Instruction#hasOperandAlias(OperandType.cpu_immediate)` instead
  - `Instruction#isRType()`
  - `Instruction#isRegimmType()`
- New functions/methods:
  - `Instruction#getBranchOffsetGeneric()`: Like `Instruction#getGenericBranchOffset()`, but does not require the `currentVram` parameter
  - `Instruction#getBranchVramGeneric()`
  - `Instruction#getDestinationGpr()`
  - `Instruction#hasOperandAlias()`
  - `Instruction#isJumpWithAddress()`
  - `Instruction#readsHI()`
  - `Instruction#readsLO()`
  - `Instruction#modifiesHI()`
  - `Instruction#modifiesLO()`
  - `Instruction#getAccessType()`
  - `InstrCategory#fromStr()`
- New enums:
  - `OperandType` 
  - `AccessType`

## [1.2.2] - 2022-10-09

1.2.2: `bal` and proper `\\` escape

### Uncategorized

- Add `bal` support
- Use special notation for branches which should produce matching instructions even when no `immOverride` was passed
- Escape `\` -> `\\`
- Add `extern "C"` in every header

## [1.2.1] - 2022-09-26

1.2.1: Static library building in the Makefile

### Uncategorized

- Makefile now creates a `librabbitizer.a` file by default.
- Makefile can also build a `librabbitizer.so` with `make dynamic`
- New `include/rabbitizer.h` header which includes every other header
- Added a version header

## [1.2.0] - 2022-09-17

1.2.0: `%got` compatibility

### Uncategorized

- New methods in `RegistersTracker` to support tracking `%got` accesses
  -  `processGpLoad`, which works similar to `processLui`
  - `preprocessLoAndGetInfo`, which replaces the now deprecated `getLuiOffsetForLo`
- Move operand types to the table format. Operands were also renamed to a more concise name.
- Fix the wrong returned value on `Utils.From2Complement` when `bits` equals 32.

## [1.1.0] - 2022-08-27

1.1.0: RSP and R5900 support

### Uncategorized

- Add proper instruction decoding for N64's RSP
- Add support for decoding the R5900 processor (PS2's Emotion Engine processor)
- Cleanup internal instruction tables format

## [1.0.1] - 2022-07-12

### Uncategorized

- Allow taking `None` in `Abi.fromStr`: returns `o32` in that case.
- New function `Utils.escapeString`: Escapes escape characters.
- Many cleanups and formats

## [1.0.0] - 2022-07-07

### Uncategorized

- New classes:
  - `RegistersTracker`: Intended to facilitate tracking the state of the general purpose registers.
- New enums:
  - `RegGprO32` and ``RegGprN32``
- New configurations:
  - `misc_omit0XOnSmallImm`: If `True` then the leading `0x` of immediates in the [-9, 9] range is omitted. Defaults to `False`.
  - `misc_upperCaseImm`: If `True` then immediates are outputted in uppercase. Defaults to `True`.
- `Instruction` changes:
  - Constructor can accept `vram` and `category` parameters.
  - `isHiPair` renamed to `canBeHi`.
  - `isLoPair` renamed to `canBeLo`.
  - Added `doesLoad`, `doesStore`, `maybeIsMove`, `isPseudo` and `architectureVersion` to `InstrDescriptor`.
  - Python API: `Instruction#rs`, `Instruction#rt` and ``Instruction#rd` now return an enum gpr type and will raise an exception if the instruction does not reference the corresponding register.
  - New methods: `getOpcodeName`, `getProcessedImmediate`, `hasDelaySlot` and `isValid`.
  - Added `__reduce__` method to allow pickling the object.
- Many code cleanups

## [0.1.0] - 2022-06-10

### Uncategorized



[unreleased]: https://github.com/Decompollaborate/rabbitizer/compare/master...develop
[1.7.9]: https://github.com/Decompollaborate/rabbitizer/compare/1.7.8...1.7.9
[1.7.8]: https://github.com/Decompollaborate/rabbitizer/compare/1.7.7...1.7.8
[1.7.7]: https://github.com/Decompollaborate/rabbitizer/compare/1.7.6...1.7.7
[1.7.6]: https://github.com/Decompollaborate/rabbitizer/compare/1.7.5...1.7.6
[1.7.5]: https://github.com/Decompollaborate/rabbitizer/compare/1.7.4...1.7.5
[1.7.4]: https://github.com/Decompollaborate/rabbitizer/compare/1.7.3...1.7.4
[1.7.3]: https://github.com/Decompollaborate/rabbitizer/compare/1.7.2...1.7.3
[1.7.2]: https://github.com/Decompollaborate/rabbitizer/compare/1.7.1...1.7.2
[1.7.1]: https://github.com/Decompollaborate/rabbitizer/compare/1.7.0...1.7.1
[1.7.0]: https://github.com/Decompollaborate/rabbitizer/compare/1.6.2...1.7.0
[1.6.2]: https://github.com/Decompollaborate/rabbitizer/compare/1.6.1...1.6.2
[1.6.1]: https://github.com/Decompollaborate/rabbitizer/compare/1.6.0...1.6.1
[1.6.0]: https://github.com/Decompollaborate/rabbitizer/compare/1.5.11...1.6.0
[1.5.11]: https://github.com/Decompollaborate/rabbitizer/compare/1.5.10...1.5.11
[1.5.10]: https://github.com/Decompollaborate/rabbitizer/compare/1.5.9...1.5.10
[1.5.9]: https://github.com/Decompollaborate/rabbitizer/compare/1.5.8...1.5.9
[1.5.8]: https://github.com/Decompollaborate/rabbitizer/compare/1.5.7...1.5.8
[1.5.7]: https://github.com/Decompollaborate/rabbitizer/compare/1.5.6...1.5.7
[1.5.6]: https://github.com/Decompollaborate/rabbitizer/compare/1.5.5...1.5.6
[1.5.5]: https://github.com/Decompollaborate/rabbitizer/compare/1.5.4...1.5.5
[1.5.4]: https://github.com/Decompollaborate/rabbitizer/compare/1.5.3...1.5.4
[1.5.3]: https://github.com/Decompollaborate/rabbitizer/compare/1.5.2...1.5.3
[1.5.2]: https://github.com/Decompollaborate/rabbitizer/compare/1.5.1...1.5.2
[1.5.1]: https://github.com/Decompollaborate/rabbitizer/compare/1.5.0...1.5.1
[1.5.0]: https://github.com/Decompollaborate/rabbitizer/compare/1.4.0...1.5.0
[1.4.0]: https://github.com/Decompollaborate/rabbitizer/compare/1.3.3...1.4.0
[1.3.3]: https://github.com/Decompollaborate/rabbitizer/compare/1.3.2...1.3.3
[1.3.2]: https://github.com/Decompollaborate/rabbitizer/compare/1.3.1...1.3.2
[1.3.1]: https://github.com/Decompollaborate/rabbitizer/compare/1.3.0...1.3.1
[1.3.0]: https://github.com/Decompollaborate/rabbitizer/compare/1.2.2...1.3.0
[1.2.2]: https://github.com/Decompollaborate/rabbitizer/compare/1.2.1...1.2.2
[1.2.1]: https://github.com/Decompollaborate/rabbitizer/compare/1.2.0...1.2.1
[1.2.0]: https://github.com/Decompollaborate/rabbitizer/compare/1.1.0...1.2.0
[1.1.0]: https://github.com/Decompollaborate/rabbitizer/compare/1.0.1...1.1.0
[1.0.1]: https://github.com/Decompollaborate/rabbitizer/compare/1.0.0...1.0.1
[1.0.0]: https://github.com/Decompollaborate/rabbitizer/compare/0.1.0...1.0.0
[0.1.0]: https://github.com/Decompollaborate/rabbitizer/releases/tag/0.1.0
